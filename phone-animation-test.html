<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Phone Animation Test</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .lock-screen-fade {
            opacity: 1;
        }
        
        .notification-bubble {
            animation: popInFade 0.5s ease-out;
        }
        
        .notification-bubble.pop-out {
            animation: popOutFade 0.5s ease-in forwards;
        }
        
        .close-button {
            transition: all 0.1s ease;
        }
        
        .close-button.pressed {
            transform: scale(0.8);
            background-color: rgba(255, 255, 255, 0.3);
        }
        
        @keyframes popInFade {
            0% {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.8);
            }
            100% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1);
            }
        }
        
        @keyframes popOutFade {
            0% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1);
            }
            100% {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.8);
            }
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen flex items-center justify-center p-8">
    <div class="flex justify-center items-center">
        <div class="relative">
            <!-- Main notification -->
            <div id="notification" class="notification-bubble absolute top-1/2 left-1/2 w-96 max-w-none bg-gray-800/95 backdrop-blur-lg rounded-2xl p-6 shadow-2xl border border-gray-600 z-50" style="transform: translate(-50%, -50%);">
                <div class="space-y-3">
                    <!-- Logo and App Name -->
                    <div class="flex items-center justify-between">
                        <div class="flex items-center gap-3 min-w-0 flex-1">
                            <div class="relative">
                                <img src="Untitled design.png" alt="DT Logo" class="w-8 h-8 rounded-lg flex-shrink-0">
                                <div id="notification-badge" class="absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full flex items-center justify-center text-white text-xs font-bold">3</div>
                            </div>
                            <p class="text-white text-base font-medium truncate">DONATION TRANSPARENCY</p>
                        </div>
                        <div class="flex items-center gap-2">
                            <p id="notification-time" class="text-gray-300 text-base flex-shrink-0">now</p>
                            <button id="close-button" class="close-button w-6 h-6 rounded-full bg-gray-600/50 hover:bg-gray-600/70 flex items-center justify-center text-white/70 hover:text-white text-lg font-light">
                                Ã—
                            </button>
                        </div>
                    </div>
                    <!-- Alert lines -->
                    <div class="flex items-center gap-2">
                        <span class="text-2xl">ðŸŽ‰</span>
                        <p id="notification-title" class="text-white font-bold text-lg">Good News</p>
                    </div>
                    <p id="notification-message" class="text-gray-100 text-base leading-relaxed">Seeds of Hope just spent $75 on school supplies</p>
                    
                    <!-- Action Button -->
                    <div class="mt-4">
                        <button class="w-full px-4 py-2 bg-green-600 hover:bg-green-700 text-white text-sm font-medium rounded-lg">
                            Track Impact
                        </button>
                    </div>
                </div>
            </div>
            
            
            <div class="relative w-72 h-[34rem] bg-black border-8 border-gray-800 rounded-[2.5rem] shadow-2xl overflow-hidden">
            <!-- Phone Notch -->
            <div class="absolute top-0 left-1/2 -translate-x-1/2 w-40 h-6 bg-gray-800 rounded-b-xl z-20"></div>
                </div>
                <div class="flex items-center gap-1">
                    <!-- Signal Strength -->
                    <div class="flex gap-1">
                        <div class="w-1 h-1 bg-white rounded-full"></div>
                        <div class="w-1 h-2 bg-white rounded-full"></div>
                        <div class="w-1 h-3 bg-white rounded-full"></div>
                        <div class="w-1 h-4 bg-white rounded-full"></div>
                    </div>
                    <!-- WiFi -->
                    <svg class="w-4 h-4 ml-1" fill="currentColor" viewBox="0 0 20 20">
                        <path d="M17.778 8.222c-4.296-4.296-11.26-4.296-15.556 0A1 1 0 01.808 6.808c5.076-5.077 13.308-5.077 18.384 0a1 1 0 01-1.414 1.414zM14.95 11.05a7 7 0 00-9.9 0 1 1 0 01-1.414-1.414 9 9 0 0112.728 0 1 1 0 01-1.414 1.414zM12.12 13.88a3 3 0 00-4.24 0 1 1 0 01-1.415-1.415 5 5 0 017.07 0 1 1 0 01-1.415 1.415zM9 16a1 1 0 011-1h.01a1 1 0 110 2H10a1 1 0 01-1-1z"></path>
                    </svg>
                    <!-- Battery -->
                    <div class="flex items-center ml-1">
                        <div class="w-6 h-3 border border-white rounded-sm relative">
                            <div class="w-4 h-1 bg-white rounded-sm absolute top-0.5 left-0.5"></div>
                        </div>
                        <div class="w-0.5 h-1 bg-white rounded-r ml-0.5"></div>
                    </div>
            
            <!-- Lock Screen Background -->
            <div class="absolute inset-0 rounded-[1.75rem] overflow-hidden">
                <!-- Wallpaper Background -->
                <div class="absolute inset-0 bg-gradient-to-br from-blue-300 via-blue-400 to-blue-500"></div>
                <div class="absolute inset-0 opacity-20" style="background-image: url('data:image/svg+xml,<svg width="60" height="60" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><g fill="%23ffffff" fill-opacity="0.1"><circle cx="30" cy="30" r="1"/><circle cx="10" cy="10" r="1"/><circle cx="50" cy="50" r="1"/><circle cx="10" cy="50" r="1"/><circle cx="50" cy="10" r="1"/></g></svg>'); background-size: 60px 60px;"></div>
                
                <!-- Lock Screen Time -->
                <div class="absolute top-24 left-1/2 -translate-x-1/2 text-center lock-screen-fade">
                    <div id="current-time" class="text-white text-6xl font-light tracking-wide">15:50</div>
                    <div id="current-date" class="text-gray-300 text-xs mt-1">Wednesday, June 25</div>
                </div>
                
                <!-- Lock Icon -->
                <div class="absolute top-40 left-1/2 -translate-x-1/2 lock-screen-fade">
                    <div class="w-8 h-8 text-white/60">
                        <svg fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 616 0z" clip-rule="evenodd"></path>
                        </svg>
                    </div>
                </div>
                
                
                <!-- Bottom Lock Screen Elements -->
                <div class="absolute bottom-8 left-1/2 -translate-x-1/2 w-full px-8 lock-screen-fade">
                    <!-- Flashlight and Camera Icons -->
                    <div class="flex justify-between items-end mb-6">
                        <div class="w-12 h-12 bg-gray-800/70 backdrop-blur-sm rounded-full flex items-center justify-center">
                            <svg class="w-6 h-6 text-white/80" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
                            </svg>
                        </div>
                        <div class="w-12 h-12 bg-gray-800/70 backdrop-blur-sm rounded-full flex items-center justify-center">
                            <svg class="w-6 h-6 text-white/80" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"></path>
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z"></path>
                            </svg>
                        </div>
                    </div>
                    
                    <!-- Slide to Unlock -->
                    <div class="text-center">
                        <div class="text-white/60 text-sm flex items-center justify-center gap-2">
                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                            </svg>
                            <span>slide to unlock</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Update time to current time
        function updateTime() {
            const now = new Date();
            const timeStr = now.toLocaleTimeString('en-US', { 
                hour: '2-digit', 
                minute: '2-digit', 
                hour12: false 
            });
            const dateStr = now.toLocaleDateString('en-US', { 
                weekday: 'long', 
                month: 'long', 
                day: 'numeric' 
            });
            
            // Update lock screen time
            document.getElementById('current-time').textContent = timeStr;
            document.getElementById('current-date').textContent = dateStr;
        }
        
        updateTime();
        setInterval(updateTime, 1000);
        
        // Notification messages
        const notifications = [
            {
                title: "Good News",
                message: "Seeds of Hope just spent $75 on school supplies",
                time: "now"
            },
            {
                title: "Good News",
                message: "Seeds of Hope allocated $320 for community garden seeds",
                time: "15m ago"
            },
            {
                title: "Good News",
                message: "Seeds of Hope served 45 meals to families today - $180 total",
                time: "1h ago"
            }
        ];
        
        let currentNotificationIndex = 0;
        let badgeCount = 3;
        
        function showNextNotification() {
            const notification = document.getElementById('notification');
            const title = document.getElementById('notification-title');
            const message = document.getElementById('notification-message');
            const time = document.getElementById('notification-time');
            const closeButton = document.getElementById('close-button');
            const badge = document.getElementById('notification-badge');
            
            // Simulate close button press
            closeButton.classList.add('pressed');
            
            setTimeout(() => {
                closeButton.classList.remove('pressed');
                // Pop out current notification
                notification.classList.add('pop-out');
            }, 250); // Button press animation
            
            setTimeout(() => {
                // Decrease badge count AFTER notification disappears
                badgeCount--;
                if (badgeCount <= 0) {
                    // Simulate new notifications arriving - gradual increase
                    setTimeout(() => {
                        badgeCount = 1;
                        badge.textContent = badgeCount;
                        setTimeout(() => {
                            badgeCount = 2;
                            badge.textContent = badgeCount;
                            setTimeout(() => {
                                badgeCount = 3;
                                badge.textContent = badgeCount;
                            }, 800);
                        }, 600);
                    }, 1000);
                } else {
                    badge.textContent = badgeCount;
                }
                
                // Update content
                const current = notifications[currentNotificationIndex];
                title.textContent = current.title;
                message.textContent = current.message;
                time.textContent = current.time;
                
                // Remove pop-out and trigger pop-in
                notification.classList.remove('pop-out');
                notification.style.animation = 'none';
                notification.style.transform = 'translate(-50%, -50%)'; // Maintain centering
                notification.offsetHeight; // Trigger reflow
                notification.style.animation = 'popInFade 0.5s ease-out';
                
                // Move to next notification
                currentNotificationIndex = (currentNotificationIndex + 1) % notifications.length;
            }, 750); // Wait for button press + pop-out to complete
        }
        
        // Start the notification cycle after 2 seconds, then with variable timing
        function scheduleNextNotification() {
            // Variable timing between 3-7 seconds for realism
            const randomDelay = Math.random() * 4000 + 3000; // 3000ms to 7000ms
            setTimeout(() => {
                showNextNotification();
                scheduleNextNotification(); // Schedule the next one
            }, randomDelay);
        }
        
        setTimeout(() => {
            scheduleNextNotification();
        }, 2000);
    </script>
</body>
</html>